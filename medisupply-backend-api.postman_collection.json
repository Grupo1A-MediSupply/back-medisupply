{
  "info": {
    "name": "MediSupply Backend API - Postman Collection",
    "_postman_id": "7a9c2d1c-2c55-4d9b-9b69-20251028025712",
    "description": "Colección generada a partir del contrato de API para MediSupply. Incluye carpetas por módulo, ejemplos de cuerpos, headers y tests.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "1. Autenticación",
      "item": [
        {
          "name": "POST /api/v1/auth/register",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/register",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "register"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"usuario@example.com\",\n  \"username\": \"usuario\",\n  \"password\": \"P@ssw0rd!\",\n  \"confirm_password\": \"P@ssw0rd!\",\n  \"full_name\": \"Nombre Apellido\",\n  \"phone_number\": \"3001234567\",\n  \"is_active\": true,\n  \"is_superuser\": false\n}"
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('201',()=>pm.response.to.have.status(201)); pm.test('success',()=>pm.expect(pm.response.json().success).to.be.true);"
                ]
              }
            }
          ]
        },
        {
          "name": "POST /api/v1/auth/login",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/login",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "login"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"usuario\",\n  \"password\": \"P@ssw0rd!\"\n}"
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('200',()=>pm.response.to.have.status(200)); let r=pm.response.json(); if(r.user_id) pm.environment.set('user_id', r.user_id);"
                ]
              }
            }
          ]
        },
        {
          "name": "POST /api/v1/auth/verify-code",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/verify-code",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "verify-code"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"{{user_id}}\",\n  \"code\": \"123456\"\n}"
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('200',()=>pm.response.to.have.status(200)); let r=pm.response.json(); if(r.access_token) pm.environment.set('access_token', r.access_token); if(r.refresh_token) pm.environment.set('refresh_token', r.refresh_token);"
                ]
              }
            }
          ]
        },
        {
          "name": "POST /api/v1/auth/resend-code (FALTA EN BACKEND)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/resend-code",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "resend-code"
              ]
            },
            "description": "⚠️ Aún no implementado en backend; agregado para pruebas de frontend.",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"{{user_id}}\"\n}"
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('200/404/501',()=>pm.response.to.have.status.oneOf([200,404,501]));"
                ]
              }
            }
          ]
        },
        {
          "name": "POST /api/v1/auth/refresh",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/refresh",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "refresh"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refresh_token\": \"{{refresh_token}}\"\n}"
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('200',()=>pm.response.to.have.status(200)); let r=pm.response.json(); if(r.access_token) pm.environment.set('access_token', r.access_token);"
                ]
              }
            }
          ]
        },
        {
          "name": "POST /api/v1/auth/logout",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/logout",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "logout"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{}"
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('200',()=>pm.response.to.have.status(200));"
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "name": "1.2 Usuario",
      "item": [
        {
          "name": "GET /api/v1/auth/me",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/me",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "me"
              ]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('200',()=>pm.response.to.have.status(200));"
                ]
              }
            }
          ]
        },
        {
          "name": "GET /api/v1/auth/users/{user_id}",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/users/user_123",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "users",
                "user_123"
              ]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('200',()=>pm.response.to.have.status(200));"
                ]
              }
            }
          ]
        },
        {
          "name": "GET /api/v1/auth/verify",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/verify",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "verify"
              ]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('200',()=>pm.response.to.have.status(200));"
                ]
              }
            }
          ]
        },
        {
          "name": "POST /api/v1/auth/change-password (FALTA EN BACKEND)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/change-password",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "change-password"
              ]
            },
            "description": "⚠️ Aún no implementado en backend; agregado para cuando se libere.",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"current_password\": \"P@ssw0rd!\",\n  \"new_password\": \"N3wP@ss!\",\n  \"confirm_new_password\": \"N3wP@ss!\"\n}"
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('200/404/501',()=>pm.response.to.have.status.oneOf([200,404,501]));"
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "name": "1.3 Sistema",
      "item": [
        {
          "name": "GET /",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/",
              "host": [
                "{{baseUrl}}"
              ],
              "path": []
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('200',()=>pm.response.to.have.status(200));"
                ]
              }
            }
          ]
        },
        {
          "name": "GET /health",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/health",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "health"
              ]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('200',()=>pm.response.to.have.status(200));"
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "name": "2.1 Vendor - Órdenes",
      "item": [
        {
          "name": "GET /api/orders (vendor)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/orders",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "orders"
              ]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('200',()=>pm.response.to.have.status(200));"
                ]
              }
            }
          ]
        },
        {
          "name": "POST /api/orders (crear orden vendor)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/orders",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "orders"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"clientName\": \"Hospital San Rafael\",\n  \"clientAddress\": \"Calle 10 #20-30, Bogotá\",\n  \"deliveryDate\": \"2025-09-25\",\n  \"contact\": \"Dr. María González\",\n  \"phone\": \"300-123-4567\",\n  \"products\": [\n    {\n      \"productId\": \"INS-001\",\n      \"quantity\": 10\n    }\n  ],\n  \"notes\": \"Entrega urgente\",\n  \"generateRoute\": true,\n  \"routeData\": {\n    \"startLocation\": {\n      \"lat\": 4.6097,\n      \"lng\": -74.0817,\n      \"address\": \"Almacén Principal\"\n    },\n    \"endLocation\": {\n      \"lat\": 4.65,\n      \"lng\": -74.1,\n      \"address\": \"Calle 10 #20-30, Bogotá\"\n    },\n    \"selectedRoute\": {\n      \"id\": \"R-OPT-1\",\n      \"distance\": \"12.5\",\n      \"duration\": \"45 min\",\n      \"fuel\": \"8.2\"\n    },\n    \"vehicleAssignment\": {\n      \"vehicleId\": \"Camión-001\",\n      \"vehicleType\": \"Camión 12T\",\n      \"capacity\": \"12 toneladas\",\n      \"driverId\": \"driver_123\",\n      \"driverName\": \"Juan Pérez\"\n    }\n  }\n}"
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('200/201',()=>pm.response.to.have.status.oneOf([200,201]));"
                ]
              }
            }
          ]
        },
        {
          "name": "PUT /api/orders/{orderId}",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/orders/ORD-1002",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "orders",
                "ORD-1002"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"clientName\": \"Hospital San Rafael\",\n  \"clientAddress\": \"Calle 10 #20-30, Bogotá\",\n  \"deliveryDate\": \"2025-09-25\",\n  \"contact\": \"Dr. María González\",\n  \"phone\": \"300-123-4567\",\n  \"products\": [\n    {\n      \"productId\": \"INS-001\",\n      \"quantity\": 15\n    }\n  ],\n  \"notes\": \"Entrega urgente actualizada\",\n  \"generateRoute\": true,\n  \"routeData\": {\n    \"startLocation\": {\n      \"lat\": 4.6097,\n      \"lng\": -74.0817,\n      \"address\": \"Almacén Principal\"\n    },\n    \"endLocation\": {\n      \"lat\": 4.65,\n      \"lng\": -74.1,\n      \"address\": \"Calle 10 #20-30, Bogotá\"\n    },\n    \"selectedRoute\": {\n      \"id\": \"R-OPT-1\",\n      \"distance\": \"12.5\",\n      \"duration\": \"45 min\",\n      \"fuel\": \"8.2\"\n    },\n    \"vehicleAssignment\": {\n      \"vehicleId\": \"Camión-001\",\n      \"vehicleType\": \"Camión 12T\",\n      \"capacity\": \"12 toneladas\",\n      \"driverId\": \"driver_123\",\n      \"driverName\": \"Juan Pérez\"\n    }\n  }\n}"
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('200',()=>pm.response.to.have.status(200));"
                ]
              }
            }
          ]
        },
        {
          "name": "DELETE /api/orders/{orderId}",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/orders/ORD-1002",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "orders",
                "ORD-1002"
              ]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('200',()=>pm.response.to.have.status(200));"
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "name": "2.2 Inventario",
      "item": [
        {
          "name": "GET /api/inventory",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/inventory",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "inventory"
              ]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('200',()=>pm.response.to.have.status(200));"
                ]
              }
            }
          ]
        },
        {
          "name": "POST /api/inventory/upload (multipart)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/inventory/upload",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "inventory",
                "upload"
              ]
            },
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "file",
                  "type": "file",
                  "src": ""
                },
                {
                  "key": "validateOnly",
                  "type": "text",
                  "value": "false"
                },
                {
                  "key": "updateExisting",
                  "type": "text",
                  "value": "false"
                }
              ]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('200',()=>pm.response.to.have.status(200));"
                ]
              }
            }
          ]
        },
        {
          "name": "GET /api/inventory/template",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/inventory/template",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "inventory",
                "template"
              ]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('200',()=>pm.response.to.have.status(200));"
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "name": "2.3 Rutas",
      "item": [
        {
          "name": "GET /api/routes",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/routes",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "routes"
              ]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('200',()=>pm.response.to.have.status(200));"
                ]
              }
            }
          ]
        },
        {
          "name": "POST /api/routes/generate",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/routes/generate",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "routes",
                "generate"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"orderIds\": [\n    \"ORD-1001\",\n    \"ORD-1002\"\n  ],\n  \"startLocation\": {\n    \"lat\": 4.6097,\n    \"lng\": -74.0817\n  }\n}"
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('200',()=>pm.response.to.have.status(200));"
                ]
              }
            }
          ]
        },
        {
          "name": "POST /api/routes/assign",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/routes/assign",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "routes",
                "assign"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"routeId\": \"R-OPT-1\",\n  \"vehicleId\": \"Camión-001\",\n  \"driverId\": \"driver_123\",\n  \"orderIds\": [\n    \"ORD-1001\",\n    \"ORD-1002\"\n  ]\n}"
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('200',()=>pm.response.to.have.status(200));"
                ]
              }
            }
          ]
        },
        {
          "name": "PUT /api/routes/{routeId}/complete",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/routes/R-501/complete",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "routes",
                "R-501",
                "complete"
              ]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('200',()=>pm.response.to.have.status(200));"
                ]
              }
            }
          ]
        },
        {
          "name": "POST /api/routes/{routeId}/return-request",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/routes/R-501/return-request",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "routes",
                "R-501",
                "return-request"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"orderId\": \"ORD-1001\",\n  \"returnReason\": \"Producto defectuoso\",\n  \"returnStatus\": \"Aprobado\",\n  \"notes\": \"Cliente reporta defecto\",\n  \"refundAmount\": 25.5,\n  \"action\": \"process\"\n}"
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('200',()=>pm.response.to.have.status(200));"
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "name": "2.4 Reportes",
      "item": [
        {
          "name": "GET /api/reports/orders-by-status",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/reports/orders-by-status",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "reports",
                "orders-by-status"
              ]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('200',()=>pm.response.to.have.status(200));"
                ]
              }
            }
          ]
        },
        {
          "name": "GET /api/reports/orders-by-month",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/reports/orders-by-month",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "reports",
                "orders-by-month"
              ]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('200',()=>pm.response.to.have.status(200));"
                ]
              }
            }
          ]
        },
        {
          "name": "GET /api/reports/inventory-status",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/reports/inventory-status",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "reports",
                "inventory-status"
              ]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('200',()=>pm.response.to.have.status(200));"
                ]
              }
            }
          ]
        },
        {
          "name": "GET /api/reports/returns",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/reports/returns",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "reports",
                "returns"
              ]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('200',()=>pm.response.to.have.status(200));"
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "name": "3. Cliente - Pedidos y Devoluciones",
      "item": [
        {
          "name": "GET /api/orders (cliente)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/orders",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "orders"
              ]
            },
            "description": "Mismo path; el rol se infiere del JWT."
          }
        },
        {
          "name": "POST /api/orders (crear pedido cliente)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/orders",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "orders"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"institutionName\": \"Hospital San Rafael\",\n  \"deliveryAddress\": \"Calle 10 #20-30, Bogotá\",\n  \"deliveryDate\": \"2025-09-25\",\n  \"contact\": \"Dr. María González\",\n  \"phone\": \"300-123-4567\",\n  \"products\": [\n    {\n      \"productId\": \"INS-001\",\n      \"quantity\": 10\n    }\n  ],\n  \"notes\": \"Entrega urgente\"\n}"
            }
          }
        },
        {
          "name": "GET /api/orders/{orderId}/track",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/orders/PED-1001/track",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "orders",
                "PED-1001",
                "track"
              ]
            }
          }
        },
        {
          "name": "POST /api/orders/{orderId}/return",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/orders/PED-1001/return",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "orders",
                "PED-1001",
                "return"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"reason\": \"Producto defectuoso\",\n  \"description\": \"El producto llegó dañado\",\n  \"evidence\": [\n    \"photo1.jpg\",\n    \"photo2.jpg\"\n  ]\n}"
            }
          }
        },
        {
          "name": "GET /api/returns",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/returns",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "returns"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "4.1 Compartidos",
      "item": [
        {
          "name": "GET /api/products",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/products",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "products"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "4.2 Notificaciones",
      "item": [
        {
          "name": "GET /api/notifications",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/notifications",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "notifications"
              ]
            }
          }
        },
        {
          "name": "PUT /api/notifications/{notificationId}/read",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/notifications/notif_001/read",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "notifications",
                "notif_001",
                "read"
              ]
            }
          }
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:8000",
      "type": "string"
    },
    {
      "key": "access_token",
      "value": "",
      "type": "string"
    },
    {
      "key": "refresh_token",
      "value": "",
      "type": "string"
    },
    {
      "key": "user_id",
      "value": "",
      "type": "string"
    }
  ]
}